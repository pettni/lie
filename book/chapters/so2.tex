\chapter{\texorpdfstring{$\SOtwo$}{SO(2)}: The 2D Rotation Group}

Let $\bR$ denote an element of $\SOtwo$; we know that $\bR \bR^{T} = I_{2}$.

\paragraph{Action on $\mathbb{R}^2$:}
In robotics applications it is convenient to define a rotational action on vectors in $\mathbb{R}^2$. For $\bR \in \SOtwo$ and $\bu \in \mathbb{R}^2$ the action is matrix multiplication
\begin{equation}
  \left \langle \bR, \bu \right \rangle_{\SOtwo} = \bR \cdot \bu.
\end{equation}

\paragraph{Lie Algebra}

The $2 \times 2$ skew-symmetric matrices have only one degree of freedom, let this single parameter of $\check{\sotwo}$ be denoted $\omega_z$ so that
\begin{equation}
  \mathfrak{so}(2) = \left\{ \begin{bmatrix} 0 & -\omega_z \\ \omega_z & 0 \end{bmatrix} \mid \omega_z \in \mathbb{R} \right\},
\end{equation}
and the Lie algebra hat and vee maps become
\begin{center}
  \begin{tikzpicture}
    \node (a1) {$\mathbb{R}^{1} \ni \begin{bmatrix}\omega_{z}\end{bmatrix}$};
    \node at (5, 0) (a2) {$\begin{bmatrix} 0 & -\omega_{z} \\ \omega_{z} & 0 \end{bmatrix} \in \sotwo$};
    \draw[-latex] (a1) to[bend left] node[above] {$\wedge$} (a2);
    \draw[-latex] (a2) to[bend left] node[above] {$\vee$} (a1);
  \end{tikzpicture}
\end{center}
\section{Formulas}

\paragraph{Adjoint}

From the definition,
\begin{equation}
  \bAd_{\bR} \begin{bmatrix} \omega_{z} \end{bmatrix}
  = \left( \bR \omega_{z}^{\wedge} \bR^{-1} \right)^{\vee} = \left(\bR \begin{bmatrix} 0 & -\omega_{z} \\ \omega_{z} & 0 \end{bmatrix} \bR^T \right)^{\vee} = \begin{bmatrix} 0 & -\omega_{z} \\ \omega_{z} & 0 \end{bmatrix}^{\vee} = \begin{bmatrix} \omega_{z} \end{bmatrix},
\end{equation}
so it follows that $\bAd_{\bR} = \begin{bmatrix} 1 \end{bmatrix}$.

\paragraph{Exponential and Logarithm}

Take an element $\begin{bmatrix}\omega_z\end{bmatrix}$; The exponential is calculated by noting that $(\omega_z^\wedge)^{2k} = (-1)^{k} \omega_z^{2k} I_2$:
\begin{equation}
  \begin{aligned}
    \Exp {\omega_z^\wedge} = \sum_{k = 0}^{\infty} \frac{(\omega_z^\wedge)^k}{k!} = \sum_{k = 0}^{\infty} \frac{\left(\omega_{z}^{\wedge}\right)^{2k}}{(2k)!} + \frac{\left(\omega_{z}^{\wedge}\right)^{2k + 1}}{(2k + 1)!} = \sum_{k = 0}^{\infty} \frac{(-1)^{k} \omega_{z}^{2k}}{(2k)!} I_{2} + \frac{(-1)^{k} \omega_{z}^{2k}}{(2k + 1)!} \omega_{z}^{\wedge} \\
    \overset{\eqref{eq:cos_sum}, \eqref{eq:trig_sum1}}= \cos \omega_z I_2 + \frac{\sin \omega_{z}}{\omega_{z}} \omega_z^\wedge = \begin{bmatrix} \cos \omega_z & - \sin \omega_z \\ \sin \omega_z & \cos \omega_z \end{bmatrix}.
  \end{aligned}
\end{equation}

\paragraph{Derivatives of the Exponential}

Consider algebra elements $\omega_z, \bar \omega_z \in \sotwo$. The bracket on $\sotwo$ is zero since
\begin{equation}
  \left[ \omega_z, \bar \omega_z \right] = \left( \begin{bmatrix}
      0 & -\omega_z \\ \omega_z & 0
    \end{bmatrix}\begin{bmatrix}
      0 & -\bar \omega_z \\ \bar \omega_z & 0
    \end{bmatrix} - \begin{bmatrix}
      0 & -\bar \omega_z \\ \bar \omega_z & 0
    \end{bmatrix}\begin{bmatrix}
      0 & - \omega_z \\ \omega_z & 0
    \end{bmatrix}\right)^\vee = 0.
\end{equation}
It follows that all terms in \eqref{eq:dexp_def} and \eqref{eq:dexpinv_def} vanish except for $n = 0$, so the derivatives of the exponential are equal to $I_{1} = \begin{bmatrix} 1 \end{bmatrix}$.

\begin{properties}[breakable, title={$\SOtwo$ formula sheet}]
  Consists of $2 \times 2$ rotation matrices $\bR$ that act on $\mathbb{R}^{2}$ via $\bv \mapsto \bR \bv$.

  \paragraph{Algebra Parameterization}
  \begin{equation}
    \left\{ \omega_{w} \mid \omega_{w} \in [-\pi, \pi] \right\}, \qquad \omega_{w}^\wedge = \begin{bmatrix} 0 & -\omega_{w} \\ \omega_{w} & 0 \end{bmatrix} \in \sotwo.
  \end{equation}

  \paragraph{Adjoint}
  \begin{equation}
    \bAd_{\bR} = \begin{bmatrix} 1 \end{bmatrix}.
  \end{equation}

  \paragraph{Exponential and Logarithm}
  \begin{subequations}
    \begin{align}
      \label{eq:so2_exp}
      \exp (\omega_w) & = \begin{bmatrix} \cos \omega_{w} & -\sin \omega_{w} \\ \sin \omega_{w} & \cos \omega_{w} \end{bmatrix},                   \\
      \label{eq:so2_log}
      \log (\bR)      & = \arccos \left(\frac{\bR^{T} + \bR}{2}\right).
    \end{align}
  \end{subequations}

  \paragraph{Bracket and Lowercase adjoint}
  \begin{subequations}
    \begin{align}
      \left[ \omega_{z}, \omega_{z}' \right ] & = 0 \\
      \ad_{\omega_z}                          & = 0
    \end{align}
  \end{subequations}

  \paragraph{Derivatives of the Exponential}
  \begin{equation}
    \mathrm{d}^r \exp_{\omega_z} =
    \mathrm{d}^l \exp_{\omega_z} =
    \left( \mathrm{d}^r \exp_{\omega_z} \right)^{-1} =
    \left( \mathrm{d}^l \exp_{\omega_z} \right)^{-1} = \begin{bmatrix} 1 \end{bmatrix}.
  \end{equation}
\end{properties}

\section{Parameterization via Isomorhphism with $\Uone$}

We use the isomorphism $\SOtwo \cong \Uone$, where $\Uone$ is the unitary group consisting of complex elements $c = q_{w} + i q_{z}$ with unit length, to parameterize elements of $\SOtwo$.
\begin{equation}
  \Uone = \left\{ (q_w, q_z) \in \mathbb{R}^{2} \mid q_w^2 + q_z^2 = 1 \right\}.
\end{equation}
The hat and vee maps between the parameterization and matrix forms are thus as follows:
\begin{center}
  \begin{tikzpicture}
    \node (a1) {$\Uone \ni (q_{w}, q_{z})$};
    \node at (5, 0) (a2) {$\bR = \begin{bmatrix} q_{w} & -q_{z} \\ q_{z} & q_{w} \end{bmatrix} \in \SOtwo$};
    \draw[-latex] (a1) to[bend left] node[above] {$\wedge$} (a2);
    \draw[-latex] (a2) to[bend left] node[above] {$\vee$} (a1);
  \end{tikzpicture}
\end{center}

From the isomorphism to complex numbers it follows that the identity element is $(1, 0)$ and the inverse is
$(q_w, q_z)^{-1} = (q_w, -q_z)$. A formula for group composition can either be obtained by expanding the complex product $(q_{w} + i q_{z}) (q_{w}' + i q_{z})$ and identifying the coefficients, or by going via the matrix form:
\begin{equation*}
  \begin{aligned}
    (q_w, q_z) \circ (q_w', q_z') = \left( (q_w, q_z)^\wedge \cdot (q_w', q_z')^\wedge \right)^\vee = \left( \begin{bmatrix}
      q_w & -q_z \\ q_z & q_w
    \end{bmatrix} \cdot \begin{bmatrix}
      q_w' & -q_z' \\ q_z' & q_w'
    \end{bmatrix}  \right)^\vee & = (q_w q_w' - q_z q_z', q_z q_w' + q_w q_z').
  \end{aligned}
\end{equation*}

It also follows from isomorphism that $\exp(\omega_{z}) = (\cos \omega_{z}, \sin \omega_{z})$, consequently $\log (q_{w}, q_{z}) = \arctantwo(q_{z}, q_{w})$, where $\arctantwo(y, x)$ is the angle between the ray passing through $(1, 0)$ and the ray passing through $(x, y)$.

\begin{properties}[breakable, title={$\Uone$ as a parameterization of $\SOtwo$}]
  \paragraph{Group Parameterization}
  \begin{equation}
    \Uone = \left\{ c \in \mathbb{C} \mid |c| = 1 \right\}
  \end{equation}
  \paragraph{Group Operations}
  \begin{itemize}
    \item Identity element: $1 \in \mathbb{C}$,
    \item Inverse: $c^{-1} = \bar c$, where bar denotes complex conjugate,
    \item Composition: $c \circ c' = \textrm{Re}(c) \textrm{Re}(c') - \textrm{Im}(c)\textrm{Im}(c') + i \left(\textrm{Re}(c) \textrm{Im}(c') + \textrm{Im}(c) \textrm{Re}(c') \right)$.
  \end{itemize}

  $\Uone$ is isomorphic to $\SOtwo$ via $\wedge: \Uone \rightarrow \SOtwo$
  \begin{equation}
    c^{\wedge} = \begin{bmatrix} \textrm{Re}(c) & -\textrm{Im}(c) \\ \textrm{Im}(c) & \textrm{Re}(c) \end{bmatrix}
  \end{equation}
  and therefore inherits Lie algebra properties from $\SOtwo$.

  \paragraph{Rotation Action on $\bu \in \mathbb{R}^{2}$}
  \begin{equation}
    \left\langle c, \bu \right \rangle = \begin{bmatrix} \textrm{Re}(c) & -\textrm{Im}(c) \\ \textrm{Im}(c) & \textrm{Re}(c) \end{bmatrix} \bu.
  \end{equation}

  \paragraph{Exponential and Logarithm}
  \begin{subequations}
    \begin{align}
      \label{eq:u1_exp}
      \exp (\omega_w) & = \cos \omega_{w} + i \sin \omega_{w},                   \\
      \label{eq:u1_log}
      \log (c)        & = \arctantwo\left(\textrm{Im}(c), \textrm{Re}(c)\right).
    \end{align}
  \end{subequations}
\end{properties}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../root"
%%% End:
